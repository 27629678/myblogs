## Chapter-19 进程间通信

Unix系统提供的进程间通信机制：

- 管道和FIFO（命名管道）
- 信号量
- 消息
- 共享内存区
- 套接字

### 1.1 使用管道

管道被看作是打开的文件，但在已安装的文件系统中没有相应的**映像**。

可以使用`pipe()`系统调用来创建一个新的管道，这个系统调用返回**一对**文件描述符，然后进程通过`fork()`把这两个文件描述符传递给它的子进程，由此与子进程共享管道。

进程可以在`read()`系统调用中使用第一个文件描述符从管道中读取数据，同样也可以在`write()`系统调用中使用第二个文件描述符向管道中写入数据。

> NOTE: **POSIX**只定义了半双工的管道，因此即使`pipe()`系统调用返回了两个文件描述符，每个进程在使用一个文件描述之前仍得把另外一个文件描述符关闭。如果所需要的是双向数据流，那么进程必须通过两次调用`pipe()`来使用两个不同的管道。

但是，Linux的解决办法：每个管道的文件描述符仍然都是单向的，但是在使用一个描述符之前不必把另外一个描述符关闭。
