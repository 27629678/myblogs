#2015年问题总结（持续更新）

今年开发过程到目前为止遇到的问题总结如下：

- 服务器日志量上升了一个量级

客户端向服务器发送的数据格式错误，导致服务器返回Error，从而引起客户端频繁向服务器请求，从而导致服务器日志量上升一个量级；

- 数据库升级子程序生成了脏数据

客户端在做数据库升级时，SQLite的API调用时机错误导致数据库生成脏数据，导致后面的服务在使用时导致Crash；

- 服务器业务请求量级上升

客户端在处理数据时，没有过滤无需额外处理的数据，导致服务器频繁处理相同的业务请求；

- 数据库升级子程序设计失误

  1. [self.db lastInsertRowID]：这个东西针对数据库来讲是全局的，不仅仅指当前操作的表单；
  2. 升级流程莫名地退出：要详细设计数据库升级流程，防止中间异常退出，重点检查if (condition); then return; fi

- UI线程尽量不做大块数据处理

**总结：**在面对服务器编程时需要特别注意`数据格式`、`数据正确性验证`及`尽量降低服务器请求的频率`；
